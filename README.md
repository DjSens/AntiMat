# AntiMat
Russian AntiMat routine on Pascal (Lazarus) Free for all

Чтобы облегчить себе модерацию сообщений в моём будущем проекте, я написал алгоритм проверки текста на оскорбительность.
С огромным чёрным списком и со списком слов-исключений "белый список" (чтоб не реагировало на слова типа "команда" или "пЛОХой").

Дарю исходники всем желающим, можете перевести алгоритм на любой язык и использовать в своих проектах (сайтах, форумах и т.п.)

У меня написано на Паскале (Lazarus). Исходники и EXE прилагаются. + см. скриншот

Сначала идёт процедура "Sorting":
1. перевод русских плохих слов в транслит по таблице Translit_2
2. потом добавляются плохие слова которые уже на транслите набраны в списке плохих слов
3. итоговый массив сортируется по убыванию длины слова, при этом записывается флаг наличия букв BPYHCX в слове
4. если длинное плохое слово содержит в себе короткое плохое слово - записывается номер короткого, чтобы не искать в тексте длинное если ранее уже искали короткое и не нашли
5. Белый список тоже переводим в транслит по таблице Translit_2

Все эти отсортированные данные можно экспортировать кнопкой экспорт.

Потом идёт собственно поиск плохих слов в тексте. Для этого текст сначала переводим в транслит по таблице Translit_2.
Алгоритм ищет плохие слова, вычисляет процент оскорбительности.
Переменная "Интервал" - для поиска плохих слов написанных с пробелами или другими небуквенными пропусками, типа "Д_._У_._Р_._А....К", т.е. задаёт величину максимального такого интервала между буквами при поиске.

StopString:=abcdefghijklmnopqrstuvwxyz1234567890 - это символы, которые останавливают поиск плохого слова написанного с большими интервалами, т.е. слово "DaUaRaAaK" уже не будет найдено

Найденные плохие слова потом проверяются по белому списку

Пользуйтесь, тестируйте, критикуйте, предлагайте улучшения, предлагайте пополнения в чёрный и белый список.

Обсудить можно тут - https://www.cyberforum.ru/blogs/1506633/blog7299.html
